<?php

/*
    Template Name: Single-Project
*/

get_header();
?>

<main class="main__single">
    <?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
        <div class="project__first-part">
            <div class="first-part_left">
                <h2 class="project_title"><?php the_field('name'); ?></h2>
                <p class="project_description"><?php the_field('description'); ?></p>
                <div class="project_links">
                    <ul class="links_ul">
                        <li class="links_li">
                            <a class="links github" href="<?php the_field('github_link'); ?>">
                                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                     viewBox="0 0 438.5 438.5" style="enable-background:new 0 0 438.5 438.5;" xml:space="preserve" height="28" width="28">
                            <g>
                                <path class="st0" d="M409.1,114.6c-19.6-33.6-46.2-60.2-79.8-79.8C295.7,15.2,259.1,5.4,219.3,5.4c-39.8,0-76.5,9.8-110.1,29.4
                                    C75.6,54.4,49,81,29.4,114.6C9.8,148.2,0,184.9,0,224.6c0,47.8,13.9,90.7,41.8,128.9c27.9,38.2,63.9,64.6,108.1,79.2
                                    c5.1,1,8.9,0.3,11.4-2c2.5-2.3,3.7-5.1,3.7-8.6c0-0.6,0-5.7-0.1-15.4c-0.1-9.7-0.1-18.2-0.1-25.4l-6.6,1.1c-4.2,0.8-9.5,1.1-15.8,1
                                    c-6.4-0.1-13-0.8-19.8-2c-6.9-1.2-13.2-4.1-19.1-8.6c-5.9-4.5-10.1-10.3-12.6-17.6l-2.9-6.6c-1.9-4.4-4.9-9.2-9-14.6
                                    c-4.1-5.3-8.2-8.9-12.4-10.8l-2-1.4c-1.3-1-2.6-2.1-3.7-3.4c-1.1-1.3-2-2.7-2.6-4c-0.6-1.3-0.1-2.4,1.4-3.3S64,310,68,310l5.7,0.9
                                    c3.8,0.8,8.5,3,14.1,6.9c5.6,3.8,10.2,8.8,13.8,14.8c4.4,7.8,9.7,13.8,15.8,17.8c6.2,4.1,12.4,6.1,18.7,6.1s11.7-0.5,16.3-1.4
                                    c4.6-1,8.8-2.4,12.8-4.3c1.7-12.8,6.4-22.6,14-29.4c-10.8-1.1-20.6-2.9-29.3-5.1c-8.7-2.3-17.6-6-26.8-11.1
                                    c-9.2-5.1-16.9-11.5-23-19.1c-6.1-7.6-11.1-17.6-15-30c-3.9-12.4-5.9-26.6-5.9-42.8c0-23,7.5-42.6,22.6-58.8
                                    c-7-17.3-6.4-36.7,2-58.2c5.5-1.7,13.7-0.4,24.6,3.9c10.9,4.3,18.8,8,23.8,11c5,3,9.1,5.6,12.1,7.7c17.7-4.9,36-7.4,54.8-7.4
                                    s37.1,2.5,54.8,7.4l10.8-6.8c7.4-4.6,16.2-8.8,26.3-12.6c10.1-3.8,17.8-4.9,23.1-3.1c8.6,21.5,9.3,40.9,2.3,58.2
                                    c15,16.2,22.6,35.8,22.6,58.8c0,16.2-2,30.5-5.9,43c-3.9,12.5-8.9,22.5-15.1,30c-6.2,7.5-13.9,13.9-23.1,19
                                    c-9.2,5.1-18.2,8.9-26.8,11.1c-8.7,2.3-18.4,4-29.3,5.1c9.9,8.6,14.8,22.1,14.8,40.5v60.2c0,3.4,1.2,6.3,3.6,8.6
                                    c2.4,2.3,6.1,3,11.3,2c44.2-14.7,80.2-41.1,108.1-79.2c27.9-38.2,41.8-81.1,41.8-128.9C438.5,184.9,428.7,148.2,409.1,114.6z"/>
                            </g>
                            </svg>
                                <p class="media__p">Watch on Github</p>
                            </a>
                        </li>
                        <li class="links_li">
                            <a class="links website" href="<?php the_field('website_link'); ?>">
                                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                     viewBox="0 0 58 58" style="enable-background:new 0 0 58 58;" xml:space="preserve" height="28" width="28">
                                    <path class="st0" d="M50.7,48.2C55.2,43.1,58,36.4,58,29c0-7.7-3-14.6-7.9-19.8v0c0,0,0,0,0,0C45,3.8,37.9,0.3,30,0l0,0l-0.6,0
                                    c-0.1,0-0.3,0-0.4,0s-0.3,0-0.4,0L28,0l0,0C20.1,0.3,13,3.8,7.9,9.2c0,0,0,0,0,0c0,0,0,0,0,0C3,14.4,0,21.3,0,29
                                    c0,7.4,2.8,14.1,7.3,19.2c0,0,0,0,0,0c0,0,0,0,0.1,0.1C12.5,54,19.8,57.7,28,58l0,0l0.6,0c0.1,0,0.3,0,0.4,0s0.3,0,0.4,0l0.6,0l0,0
                                    C38.2,57.7,45.5,54,50.7,48.2C50.6,48.3,50.7,48.3,50.7,48.2C50.7,48.2,50.7,48.2,50.7,48.2z M2,30h12c0.1,4.2,0.9,8.4,2.4,12.2
                                    c-2.8,1-5.6,2.4-8.1,4.1C4.6,41.9,2.3,36.2,2,30z M8.9,11c2.5,1.6,5.1,2.9,7.9,3.9C15.1,19,14.1,23.4,14,28H2
                                    C2.3,21.5,4.8,15.6,8.9,11z M56,28H44c-0.1-4.6-1.1-9-2.8-13.1c2.8-1,5.4-2.3,7.9-3.9C53.2,15.6,55.7,21.5,56,28z M28,15
                                    c-2.9-0.1-5.7-0.5-8.5-1.3c2-4.2,4.9-7.9,8.5-11V15z M28,17v11H16c0.1-4.3,1-8.6,2.7-12.5C21.7,16.4,24.8,16.9,28,17z M30,17
                                    c3.2-0.1,6.3-0.6,9.3-1.4c1.6,3.9,2.5,8.1,2.7,12.5H30V17z M30,15V2.6c3.6,3.1,6.4,6.9,8.5,11C35.7,14.4,32.9,14.9,30,15z
                                     M40.4,13.1c-1.9-4-4.6-7.7-7.9-10.8C38.4,3,43.6,5.7,47.7,9.6C45.4,11,43,12.2,40.4,13.1z M17.6,13.1c-2.5-0.9-5-2.1-7.3-3.5
                                    c4.1-3.9,9.3-6.6,15.2-7.3C22.2,5.4,19.5,9,17.6,13.1z M16,30h12v10c-3.3,0.1-6.5,0.6-9.7,1.5C16.9,37.9,16.1,34,16,30z M28,42v13.3
                                    c-3.8-3.3-6.8-7.4-8.9-11.9C22,42.6,25,42.1,28,42z M30,55.4V42c3,0.1,6,0.6,8.9,1.4C36.8,47.9,33.8,52,30,55.4z M30,40V30h12
                                    c-0.1,4-0.9,7.9-2.3,11.6C36.5,40.6,33.3,40.1,30,40z M44,30h12c-0.2,6.2-2.6,11.9-6.3,16.3c-2.5-1.7-5.3-3.1-8.1-4.1
                                    C43,38.4,43.9,34.2,44,30z M9.7,47.8c2.4-1.6,4.9-2.8,7.5-3.8c1.9,4.4,4.7,8.3,8.3,11.7C19.3,55,13.8,52.1,9.7,47.8z M32.5,55.8
                                    c3.5-3.4,6.3-7.3,8.3-11.7c2.6,0.9,5.2,2.2,7.5,3.8C44.2,52.1,38.7,55,32.5,55.8z"/>
                                </svg>
                                <p class="media__p">Watch the website</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="first-part_right">
                <img src="<?php the_field('vignette'); ?>" alt="<?php the_field('name'); ?>" class="project_vignette" width="432px" height="432px">
            </div>
        </div>
        <div class="project_full-screen">
            <img src="<?php the_field('full_screen'); ?>" alt="The <?php the_field('name'); ?> full screen web page" class="full-screen_img" width="884px">
        </div>

    <?php endwhile; endif; ?>

    <div class="other_projects">
        <h2 class="other_h2">Other projects</h2>
        <div class="other__content">
            <?php
            $exp = new WP_Query([
                'posts_per_page' => '3',
                'post_type' => 'project',
                'order'=>'ASC',
                'order_by'=>'ID'
            ]);

            if ($exp->have_posts()): while ($exp->have_posts()) : $exp->the_post();
                ?>

                <div class="project">
                    <a href="<?php the_permalink(); ?>">
                        <div class="project__div">
                            <div class="project__title">
                                <h3 class="project__h3"><?php the_field('name'); ?></h3>
                            </div>
                            <div class="project__img">
                                <img src="<?php the_field('vignette'); ?>" alt="<?php the_field('name'); ?>">
                            </div>
                        </div>
                    </a>
                </div>

            <?php endwhile; else: ?>
                <p class="empty"></p>
            <?php endif; ?>
        </div>
    </div>
</main>


<?php get_footer(); ?>
